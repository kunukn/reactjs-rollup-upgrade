/** @license React vundefined
 * react-dom-unstable-fizz.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

"use strict";
var textEncoder = new TextEncoder();
function formatChunk(type, props) {
  var str = "<" + type + ">";
  "string" === typeof props.children && (str += props.children);
  return textEncoder.encode(str + ("</" + type + ">"));
}
var REACT_ELEMENT_TYPE =
  "function" === typeof Symbol && Symbol.for
    ? Symbol.for("react.element")
    : 60103;
function flushCompletedChunks(request) {
  var destination = request.destination,
    chunks = request.completedChunks;
  request.completedChunks = [];
  for (request = 0; request < chunks.length; request++)
    destination.enqueue(chunks[request]);
  destination.close();
}
var ReactDOMFizzServerBrowser$1 = {
    default: {
      renderToReadableStream: function(children) {
        var request$jscomp$0;
        return new ReadableStream({
          start: function(controller) {
            controller = request$jscomp$0 = {
              destination: controller,
              children: children,
              completedChunks: [],
              flowing: !1
            };
            controller.flowing = !0;
            var element = controller.children;
            controller.children = null;
            if (!element || element.$$typeof === REACT_ELEMENT_TYPE) {
              var type = element.type;
              element = element.props;
              "string" === typeof type &&
                (controller.completedChunks.push(formatChunk(type, element)),
                controller.flowing && flushCompletedChunks(controller));
            }
          },
          pull: function() {
            var request = request$jscomp$0;
            request.flowing = !1;
            flushCompletedChunks(request);
          },
          cancel: function() {}
        });
      }
    }
  },
  ReactDOMFizzServerBrowser$2 =
    (ReactDOMFizzServerBrowser$1 && ReactDOMFizzServerBrowser$1["default"]) ||
    ReactDOMFizzServerBrowser$1;
module.exports =
  ReactDOMFizzServerBrowser$2.default || ReactDOMFizzServerBrowser$2;
