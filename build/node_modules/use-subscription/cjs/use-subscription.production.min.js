/** @license React vundefined
 * use-subscription.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';Object.defineProperty(exports,"__esModule",{value:!0});
var h=require("react"),l=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,p=function(){try{if(!Object.assign)return!1;var b=new String("abc");b[5]="de";if("5"===Object.getOwnPropertyNames(b)[0])return!1;var c={};for(b=0;10>b;b++)c["_"+String.fromCharCode(b)]=b;if("0123456789"!==Object.getOwnPropertyNames(c).map(function(a){return c[a]}).join(""))return!1;var d={};"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a});return"abcdefghijklmnopqrst"!==
Object.keys(Object.assign({},d)).join("")?!1:!0}catch(a){return!1}}()?Object.assign:function(b,c){if(null===b||void 0===b)throw new TypeError("Object.assign cannot be called with null or undefined");var d=Object(b);for(var a,f=1;f<arguments.length;f++){var g=Object(arguments[f]);for(var k in g)m.call(g,k)&&(d[k]=g[k]);if(l){a=l(g);for(var e=0;e<a.length;e++)n.call(g,a[e])&&(d[a[e]]=g[a[e]])}}return d};
exports.useSubscription=function(b){var c=b.getCurrentValue,d=b.subscribe,a=h.useState(function(){return{getCurrentValue:c,subscribe:d,value:c()}});b=a[0];var f=a[1];a=b.value;if(b.getCurrentValue!==c||b.subscribe!==d)a=c(),f({getCurrentValue:c,subscribe:d,value:a});h.useDebugValue(a);h.useEffect(function(){function a(){b||f(function(a){if(a.getCurrentValue!==c||a.subscribe!==d)return a;var b=c();return a.value===b?a:p({},a,{value:b})})}var b=!1,e=d(a);a();return function(){b=!0;e()}},[c,d]);return a};
